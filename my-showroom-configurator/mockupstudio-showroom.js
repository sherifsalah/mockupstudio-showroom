!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ShowroomConfigurator=t()}(this,function(){"use strict";var e=Object.defineProperty,t=(t,o,s)=>((t,o,s)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[o]=s)(t,"symbol"!=typeof o?o+"":o,s);function o(){}function s(e){return e()}function r(){return Object.create(null)}function l(e){e.forEach(s)}function n(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let c;function a(e,t){return e===t||(c||(c=document.createElement("a")),c.href=t,e===c.href)}function u(e,...t){if(null==e){for(const e of t)e(void 0);return o}const s=e.subscribe(...t);return s.unsubscribe?()=>s.unsubscribe():s}function h(e,t,o){e.$$.on_destroy.push(u(t,o))}const d="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function f(e,t){e.appendChild(t)}function p(e,t,o){const s=function(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;if(t&&t.host)return t;return e.ownerDocument}(e);if(!s.getElementById(t)){const e=m("style");e.id=t,e.textContent=o,function(e,t){f(e.head||e,t),t.sheet}(s,e)}}function b(e,t,o){e.insertBefore(t,o||null)}function v(e){e.parentNode&&e.parentNode.removeChild(e)}function m(e){return document.createElement(e)}function g(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function $(e){return document.createTextNode(e)}function w(){return $(" ")}function x(e,t,o,s){return e.addEventListener(t,o,s),()=>e.removeEventListener(t,o,s)}function y(e,t,o){null==o?e.removeAttribute(t):e.getAttribute(t)!==o&&e.setAttribute(t,o)}function k(e,t){t=""+t,e.data!==t&&(e.data=t)}function _(e,t,o,s){null==o?e.style.removeProperty(t):e.style.setProperty(t,o,"")}function C(e,t,o){e.classList.toggle(t,!!o)}let E;function j(e){E=e}function O(){if(!E)throw new Error("Function called outside component initialization");return E}const M=[],S=[];let z=[];const L=[],N=Promise.resolve();let A=!1;function T(e){z.push(e)}const V=new Set;let B=0;function P(){if(0!==B)return;const e=E;do{try{for(;B<M.length;){const e=M[B];B++,j(e),I(e.$$)}}catch(t){throw M.length=0,B=0,t}for(j(null),M.length=0,B=0;S.length;)S.pop()();for(let e=0;e<z.length;e+=1){const t=z[e];V.has(t)||(V.add(t),t())}z.length=0}while(M.length);for(;L.length;)L.pop()();A=!1,V.clear(),j(e)}function I(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(T)}}const R=new Set;function H(e,t){e&&e.i&&(R.delete(e),e.i(t))}function W(e){return void 0!==(null==e?void 0:e.length)?e:Array.from(e)}function G(e,t){e.d(1),t.delete(e.key)}function U(e,t,o,s,r,n,i,c,a,u,h,d){let f=e.length,p=n.length,b=f;const v={};for(;b--;)v[e[b].key]=b;const m=[],g=new Map,$=new Map,w=[];for(b=p;b--;){const e=d(r,n,b),s=o(e);let l=i.get(s);l?w.push(()=>l.p(e,t)):(l=u(s,e),l.c()),g.set(s,m[b]=l),s in v&&$.set(s,Math.abs(b-v[s]))}const x=new Set,y=new Set;function k(e){H(e,1),e.m(c,h),i.set(e.key,e),h=e.first,p--}for(;f&&p;){const t=m[p-1],o=e[f-1],s=t.key,r=o.key;t===o?(h=t.first,f--,p--):g.has(r)?!i.has(s)||x.has(s)?k(t):y.has(r)?f--:$.get(s)>$.get(r)?(y.add(s),k(t)):(x.add(r),f--):(a(o,i),f--)}for(;f--;){const t=e[f];g.has(t.key)||a(t,i)}for(;p;)k(m[p-1]);return l(w),m}function Y(e,t){const o=e.$$;null!==o.fragment&&(!function(e){const t=[],o=[];z.forEach(s=>-1===e.indexOf(s)?t.push(s):o.push(s)),o.forEach(e=>e()),z=t}(o.after_update),l(o.on_destroy),o.fragment&&o.fragment.d(t),o.on_destroy=o.fragment=null,o.ctx=[])}function D(e,t){-1===e.$$.dirty[0]&&(M.push(e),A||(A=!0,N.then(P)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function F(e,t,i,c,a,u,h=null,d=[-1]){const f=E;j(e);const p=e.$$={fragment:null,ctx:[],props:u,update:o,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:r(),dirty:d,skip_bound:!1,root:t.target||f.$$.root};h&&h(p.root);let b=!1;if(p.ctx=i?i(e,t.props||{},(t,o,...s)=>{const r=s.length?s[0]:o;return p.ctx&&a(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),b&&D(e,t)),o}):[],p.update(),b=!0,l(p.before_update),p.fragment=!!c&&c(p.ctx),t.target){if(t.hydrate){const e=(m=t.target,Array.from(m.childNodes));p.fragment&&p.fragment.l(e),e.forEach(v)}else p.fragment&&p.fragment.c();t.intro&&H(e.$$.fragment),function(e,t,o){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,o),T(()=>{const t=e.$$.on_mount.map(s).filter(n);e.$$.on_destroy?e.$$.on_destroy.push(...t):l(t),e.$$.on_mount=[]}),i.forEach(T)}(e,t.target,t.anchor),P()}var m;j(f)}let J;function q(e,t,o,s){var r;const l=null==(r=o[e])?void 0:r.type;if(t="Boolean"===l&&"boolean"!=typeof t?null!=t:t,!s||!o[e])return t;if("toAttribute"===s)switch(l){case"Object":case"Array":return null==t?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return null==t?null:t;default:return t}else switch(l){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":default:return t;case"Number":return null!=t?+t:t}}"function"==typeof HTMLElement&&(J=class extends HTMLElement{constructor(e,o,s){super(),t(this,"$$ctor"),t(this,"$$s"),t(this,"$$c"),t(this,"$$cn",!1),t(this,"$$d",{}),t(this,"$$r",!1),t(this,"$$p_d",{}),t(this,"$$l",{}),t(this,"$$l_u",new Map),this.$$ctor=e,this.$$s=o,s&&this.attachShadow({mode:"open"})}addEventListener(e,t,o){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){const o=this.$$c.$on(e,t);this.$$l_u.set(t,o)}super.addEventListener(e,t,o)}removeEventListener(e,t,o){if(super.removeEventListener(e,t,o),this.$$c){const e=this.$$l_u.get(t);e&&(e(),this.$$l_u.delete(t))}if(this.$$l[e]){const o=this.$$l[e].indexOf(t);o>=0&&this.$$l[e].splice(o,1)}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(e){return()=>{let t;return{c:function(){t=m("slot"),"default"!==e&&y(t,"name",e)},m:function(e,o){b(e,t,o)},d:function(e){e&&v(t)}}}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const t={},o=function(e){const t={};return e.childNodes.forEach(e=>{t[e.slot||"default"]=!0}),t}(this);for(const r of this.$$s)r in o&&(t[r]=[e(r)]);for(const r of this.attributes){const e=this.$$g_p(r.name);e in this.$$d||(this.$$d[e]=q(e,r.value,this.$$p_d,"toProp"))}for(const r in this.$$p_d)r in this.$$d||void 0===this[r]||(this.$$d[r]=this[r],delete this[r]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$scope:{ctx:[]}}});const s=()=>{this.$$r=!0;for(const e in this.$$p_d)if(this.$$d[e]=this.$$c.$$.ctx[this.$$c.$$.props[e]],this.$$p_d[e].reflect){const t=q(e,this.$$d[e],this.$$p_d,"toAttribute");null==t?this.removeAttribute(this.$$p_d[e].attribute||e):this.setAttribute(this.$$p_d[e].attribute||e,t)}this.$$r=!1};this.$$c.$$.after_update.push(s),s();for(const r in this.$$l)for(const e of this.$$l[r]){const t=this.$$c.$on(r,e);this.$$l_u.set(e,t)}this.$$l={}}}attributeChangedCallback(e,t,o){var s;this.$$r||(e=this.$$g_p(e),this.$$d[e]=q(e,o,this.$$p_d,"toProp"),null==(s=this.$$c)||s.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}});class K{constructor(){t(this,"$$"),t(this,"$$set")}$destroy(){Y(this,1),this.$destroy=o}$on(e,t){if(!n(t))return o;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const e=s.indexOf(t);-1!==e&&s.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");const Q=[];function X(e,t=o){let s;const r=new Set;function l(t){if(i(e,t)&&(e=t,s)){const t=!Q.length;for(const o of r)o[1](),Q.push(o,e);if(t){for(let e=0;e<Q.length;e+=2)Q[e][0](Q[e+1]);Q.length=0}}}function n(t){l(t(e))}return{set:l,update:n,subscribe:function(i,c=o){const a=[i,c];return r.add(a),1===r.size&&(s=t(l,n)||o),i(e),()=>{r.delete(a),0===r.size&&s&&(s(),s=null)}}}}function Z(e,t,s){const r=!Array.isArray(e),i=r?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const c=t.length<2;return a=(e,s)=>{let a=!1;const h=[];let d=0,f=o;const p=()=>{if(d)return;f();const l=t(r?h[0]:h,e,s);c?e(l):f=n(l)?l:o},b=i.map((e,t)=>u(e,e=>{h[t]=e,d&=~(1<<t),a&&p()},()=>{d|=1<<t}));return a=!0,p(),function(){l(b),f(),a=!1}},{subscribe:X(s,a).subscribe};var a}const{Map:ee}=d;function te(e){p(e,"svelte-16fhsb8",'.showroom-configurator.svelte-16fhsb8.svelte-16fhsb8{width:100%;max-width:100%;margin:0 auto;background:#f5f5f5;position:relative;display:flex;flex-direction:column;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif}.loading-screen.svelte-16fhsb8.svelte-16fhsb8,.error-screen.svelte-16fhsb8.svelte-16fhsb8{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;padding:2rem}.loading-screen.svelte-16fhsb8 p.svelte-16fhsb8,.error-screen.svelte-16fhsb8 p.svelte-16fhsb8{margin:1rem 0;color:#333}.error-screen.svelte-16fhsb8 button.svelte-16fhsb8{padding:0.75rem 1rem;background:var(--theme-color);color:white;border:none;border-radius:4px;cursor:pointer;font-size:1rem}.error-screen.svelte-16fhsb8 button.svelte-16fhsb8:hover{background:var(--theme-color-dark)}.spinner.svelte-16fhsb8.svelte-16fhsb8{width:50px;height:50px;border:4px solid rgba(0, 0, 0, 0.1);border-top-color:var(--theme-color);border-radius:50%;animation:svelte-16fhsb8-spin 1s linear infinite}@keyframes svelte-16fhsb8-spin{to{transform:rotate(360deg)}}.toolbar.svelte-16fhsb8.svelte-16fhsb8{display:flex;gap:0.5rem;padding:0.5rem;background:#f8f8f8;border-bottom:1px solid #e0e0e0;justify-content:flex-end}.toolbar-button.svelte-16fhsb8.svelte-16fhsb8{display:flex;align-items:center;gap:0.5rem;padding:0.5rem 1rem;background:white;border:1px solid #d0d0d0;border-radius:6px;cursor:pointer;font-size:0.9rem;color:#333;transition:all 0.2s}.toolbar-button.svelte-16fhsb8.svelte-16fhsb8:hover{background:var(--theme-color);color:white;border-color:var(--theme-color)}.toolbar-button.svelte-16fhsb8 svg.svelte-16fhsb8{flex-shrink:0}@media(max-width: 768px){.toolbar-button.svelte-16fhsb8 span.svelte-16fhsb8{display:none}.toolbar-button.svelte-16fhsb8.svelte-16fhsb8{padding:0.6rem}}.scene-container.svelte-16fhsb8.svelte-16fhsb8{position:relative;width:100%;background:#fff;overflow:visible;display:flex;align-items:center;justify-content:center}.transition-loader.svelte-16fhsb8.svelte-16fhsb8{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;background:transparent;z-index:999;pointer-events:none}.transition-loader.svelte-16fhsb8 .spinner.svelte-16fhsb8{width:80px;height:80px}.showroom-canvas.svelte-16fhsb8.svelte-16fhsb8{width:100%;height:auto;display:block;transition:opacity 0.3s ease}.showroom-canvas.transitioning.svelte-16fhsb8.svelte-16fhsb8{opacity:0.5}.hotspot.svelte-16fhsb8.svelte-16fhsb8{position:absolute;width:40px;height:40px;background:transparent;border:none;cursor:pointer;z-index:1000;transition:transform 0.2s;color:var(--theme-color)}.hotspot.svelte-16fhsb8.svelte-16fhsb8:hover{transform:scale(1.1)}.hotspot.active.svelte-16fhsb8.svelte-16fhsb8{color:var(--theme-color-dark);transform:scale(1.2)}.hotspot.svelte-16fhsb8 svg.svelte-16fhsb8{filter:drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2))}@media(max-width: 768px){.hotspot.svelte-16fhsb8.svelte-16fhsb8{width:28px;height:28px}}.controls-container.svelte-16fhsb8.svelte-16fhsb8{background:white;border-top:1px solid #e0e0e0}.tabs.svelte-16fhsb8.svelte-16fhsb8{display:flex;gap:0;overflow-x:auto;border-bottom:1px solid #e0e0e0;scrollbar-width:thin}.tabs.svelte-16fhsb8.svelte-16fhsb8::-webkit-scrollbar{height:4px}.tabs.svelte-16fhsb8.svelte-16fhsb8::-webkit-scrollbar-thumb{background:#ccc;border-radius:2px}.tab.svelte-16fhsb8.svelte-16fhsb8{flex:1;min-width:max-content;padding:1rem 1rem;background:white;border:none;border-bottom:3px solid transparent;cursor:pointer;font-size:0.9rem;font-weight:500;color:#666;text-transform:uppercase;transition:all 0.2s;white-space:nowrap}.tab.svelte-16fhsb8.svelte-16fhsb8:hover{background:#f5f5f5;color:#333}.tab.active.svelte-16fhsb8.svelte-16fhsb8{color:var(--theme-color);border-bottom-color:var(--theme-color)}.carousel-wrapper.svelte-16fhsb8.svelte-16fhsb8{padding:0.5rem 1rem 1rem 1rem;position:relative}.carousel-container.svelte-16fhsb8.svelte-16fhsb8{position:relative;display:flex;align-items:center;gap:1rem}.carousel-nav.svelte-16fhsb8.svelte-16fhsb8{position:absolute;top:50%;transform:translateY(-50%);width:40px;height:40px;border-radius:50%;background:white;border:2px solid var(--theme-color);color:var(--theme-color);font-size:24px;font-weight:bold;cursor:pointer;z-index:10;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px rgba(0, 0, 0, 0.15);transition:all 0.2s}.carousel-nav.svelte-16fhsb8.svelte-16fhsb8:hover{background:var(--theme-color);color:white;transform:translateY(-50%) scale(1.1)}.carousel-nav.svelte-16fhsb8.svelte-16fhsb8:active{transform:translateY(-50%) scale(0.95)}.carousel-nav-left.svelte-16fhsb8.svelte-16fhsb8{left:-10px}.carousel-nav-right.svelte-16fhsb8.svelte-16fhsb8{right:-10px}@media(max-width: 768px){.carousel-nav.svelte-16fhsb8.svelte-16fhsb8{width:32px;height:32px;font-size:20px}}.carousel-items.svelte-16fhsb8.svelte-16fhsb8{display:flex;gap:1rem;overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scroll-snap-type:x mandatory;scrollbar-width:thin;scrollbar-color:var(--theme-color) #f5f5f5;padding:0.5rem 0;flex:1}.carousel-items.svelte-16fhsb8.svelte-16fhsb8::-webkit-scrollbar{height:6px}.carousel-items.svelte-16fhsb8.svelte-16fhsb8::-webkit-scrollbar-track{background:#f5f5f5;border-radius:3px}.carousel-items.svelte-16fhsb8.svelte-16fhsb8::-webkit-scrollbar-thumb{background:var(--theme-color);border-radius:3px}.carousel-items.svelte-16fhsb8.svelte-16fhsb8::-webkit-scrollbar-thumb:hover{background:var(--theme-color-dark)}@media(max-width: 768px){.carousel-items.svelte-16fhsb8.svelte-16fhsb8{gap:0.75rem}}.carousel-item.svelte-16fhsb8.svelte-16fhsb8{flex:0 0 auto;width:calc(25% - 0.75rem);min-width:120px;background:#f5f5f5;border:2px solid transparent;border-radius:8px;cursor:pointer;overflow:hidden;transition:all 0.2s;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0.5rem;scroll-snap-align:start}@media(max-width: 1200px){.carousel-item.svelte-16fhsb8.svelte-16fhsb8{width:calc(33.333% - 0.75rem)}}@media(max-width: 768px){.carousel-item.svelte-16fhsb8.svelte-16fhsb8{width:calc(50% - 0.5rem);min-width:100px}}@media(max-width: 480px){.carousel-item.svelte-16fhsb8.svelte-16fhsb8{width:calc(50% - 0.5rem);min-width:140px}}.carousel-item.svelte-16fhsb8 .item-preview.svelte-16fhsb8{width:100%;aspect-ratio:1;overflow:hidden;border-radius:4px;display:flex;align-items:center;justify-content:center}.carousel-item.svelte-16fhsb8 .item-preview img.svelte-16fhsb8{width:100%;height:100%;object-fit:contain}.carousel-item.svelte-16fhsb8 span.svelte-16fhsb8{margin-top:0.5rem;font-size:0.75rem;text-align:center;color:#666;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%}.carousel-item.svelte-16fhsb8.svelte-16fhsb8:hover{border-color:var(--theme-color);transform:translateY(-2px);box-shadow:0 4px 8px rgba(0, 0, 0, 0.1)}.carousel-item.selected.svelte-16fhsb8.svelte-16fhsb8{border-color:var(--theme-color);background:#fff;box-shadow:0 2px 8px var(--theme-color-light)}.color-selector-section.svelte-16fhsb8.svelte-16fhsb8{margin-bottom:1rem}.color-carousel-container.svelte-16fhsb8.svelte-16fhsb8{position:relative;display:flex;align-items:center;gap:1rem}.color-carousel-items.svelte-16fhsb8.svelte-16fhsb8{display:flex;gap:0.75rem;overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scroll-snap-type:x mandatory;scrollbar-width:thin;scrollbar-color:var(--theme-color) #f5f5f5;padding:0.5rem 0;flex:1}.color-carousel-items.svelte-16fhsb8.svelte-16fhsb8::-webkit-scrollbar{height:6px}.color-carousel-items.svelte-16fhsb8.svelte-16fhsb8::-webkit-scrollbar-track{background:#f5f5f5;border-radius:3px}.color-carousel-items.svelte-16fhsb8.svelte-16fhsb8::-webkit-scrollbar-thumb{background:var(--theme-color);border-radius:3px}.color-carousel-items.svelte-16fhsb8.svelte-16fhsb8::-webkit-scrollbar-thumb:hover{background:var(--theme-color-dark)}.color-option.svelte-16fhsb8.svelte-16fhsb8{flex:0 0 auto;width:70px;background:#f5f5f5;border:2px solid transparent;border-radius:8px;cursor:pointer;overflow:hidden;transition:all 0.2s;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0.4rem;scroll-snap-align:start}.color-option.svelte-16fhsb8 .option-color.svelte-16fhsb8{width:100%;aspect-ratio:1;border-radius:4px;border:1px solid rgba(0, 0, 0, 0.2);overflow:hidden}.color-option.svelte-16fhsb8 span.svelte-16fhsb8{margin-top:0.4rem;font-size:0.65rem;text-align:center;color:#666;line-height:1.1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%}.color-option.svelte-16fhsb8.svelte-16fhsb8:hover{border-color:var(--theme-color);transform:translateY(-2px);box-shadow:0 4px 8px rgba(0, 0, 0, 0.1)}.color-option.selected.svelte-16fhsb8.svelte-16fhsb8{border-color:var(--theme-color);background:#fff;box-shadow:0 2px 8px var(--theme-color-light)}@media(max-width: 768px){.color-option.svelte-16fhsb8.svelte-16fhsb8{width:60px;padding:0.3rem}.color-option.svelte-16fhsb8 span.svelte-16fhsb8{font-size:0.6rem}}.material-type-selector.svelte-16fhsb8.svelte-16fhsb8{display:flex;gap:0.75rem;flex-wrap:wrap;padding:1rem 1rem 0.5rem 1rem}.material-type-button.svelte-16fhsb8.svelte-16fhsb8{flex:1;min-width:100px;padding:0.75rem 1rem;background:#f5f5f5;border:2px solid transparent;border-radius:2px;cursor:pointer;font-size:0.9rem;font-weight:600;color:#666;transition:all 0.2s;text-transform:uppercase;letter-spacing:0.5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.material-type-button.svelte-16fhsb8.svelte-16fhsb8:hover{background:#fff;border-color:var(--theme-color-light);color:var(--theme-color)}.material-type-button.active.svelte-16fhsb8.svelte-16fhsb8{background:var(--theme-color);color:white;border-color:var(--theme-color)}@media(max-width: 768px){.material-type-button.svelte-16fhsb8.svelte-16fhsb8{min-width:70px;padding:0.5rem 0.5rem;font-size:0.7rem;letter-spacing:0.3px}}')}function oe(e,t,o){const s=e.slice();s[105]=t[o],s[97]=o;const r=s[97]+1;return s[106]=r,s}function se(e,t,o){const s=e.slice();return s[90]=t[o],s}function re(e,t,o){const s=e.slice();s[94]=t[o],s[97]=o;const r=`color-${s[97]+1}`;return s[95]=r,s}function le(e,t,o){var s;const r=e.slice();r[90]=t[o];const l=null==(s=r[90].materials)?void 0:s[0];return r[91]=l,r}function ne(e,t,o){const s=e.slice();s[94]=t[o],s[97]=o;const r=`color-${s[97]+1}`;return s[95]=r,s}function ie(e,t,o){const s=e.slice();return s[98]=t[o],s}function ce(e){var t;const o=e.slice(),s=o[6].layers[o[4]];o[85]=s;const r=o[10][o[4]];o[86]=r;const l="product-layer"===(null==(t=o[85])?void 0:t.group);return o[87]=l,o}function ae(e,t,o){const s=e.slice();return s[108]=t[o],s}function ue(e,t,o){const s=e.slice();s[111]=t[o];const r=Math.min(Math.max(s[111].position.x,0),s[83]);s[112]=r;const l=Math.min(Math.max(s[111].position.y,0),s[84]);s[113]=l;const n=window.innerWidth<=768?28:40;s[114]=n;const i=s[7].left+s[112]/s[83]*s[7].width-s[114]/2;s[115]=i;const c=s[7].top+s[113]/s[84]*s[7].height-s[114]/2;s[116]=c;const a=Math.max(s[7].left,Math.min(s[115],s[7].left+s[7].width-s[114]));s[117]=a;const u=Math.max(s[7].top,Math.min(s[116],s[7].top+s[7].height-s[114]));return s[118]=u,s}function he(e){let t,o,s,r,n,i,c,a,u,h,d,p,g,$,k,_=[],E=new ee,j=[],O=new ee,M=e[13]&&pe(),S=W(e[14]);const z=e=>e[111].id;for(let l=0;l<S.length;l+=1){let t=ue(e,S,l),o=z(t);E.set(o,_[l]=be(o,t))}let L=W(e[15]);const N=e=>e[108].name;for(let l=0;l<L.length;l+=1){let t=ae(e,L,l),o=N(t);O.set(o,j[l]=ve(o,t))}let A=e[4]&&me(ce(e));return{c(){t=m("div"),o=m("button"),o.innerHTML='<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-16fhsb8"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg> <span class="svelte-16fhsb8">Herunterladen</span>',s=w(),r=m("button"),r.innerHTML='<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-16fhsb8"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path></svg> <span class="svelte-16fhsb8">Vollbild</span>',n=w(),i=m("div"),M&&M.c(),c=w(),a=m("canvas"),u=w();for(let e=0;e<_.length;e+=1)_[e].c();h=w(),d=m("div"),p=m("div");for(let e=0;e<j.length;e+=1)j[e].c();g=w(),A&&A.c(),y(o,"class","toolbar-button svelte-16fhsb8"),y(o,"title","Herunterladen"),y(r,"class","toolbar-button svelte-16fhsb8"),y(r,"title","Vollbild"),y(t,"class","toolbar svelte-16fhsb8"),y(a,"class","showroom-canvas svelte-16fhsb8"),C(a,"transitioning",e[13]),y(i,"class","scene-container svelte-16fhsb8"),y(p,"class","tabs svelte-16fhsb8"),y(d,"class","controls-container svelte-16fhsb8")},m(l,v){b(l,t,v),f(t,o),f(t,s),f(t,r),b(l,n,v),b(l,i,v),M&&M.m(i,null),f(i,c),f(i,a),e[46](a),f(i,u);for(let e=0;e<_.length;e+=1)_[e]&&_[e].m(i,null);b(l,h,v),b(l,d,v),f(d,p);for(let e=0;e<j.length;e+=1)j[e]&&j[e].m(p,null);f(d,g),A&&A.m(d,null),$||(k=[x(o,"click",e[39]),x(r,"click",e[40])],$=!0)},p(e,t){e[13]?M||(M=pe(),M.c(),M.m(i,c)):M&&(M.d(1),M=null),8192&t[0]&&C(a,"transitioning",e[13]),1073758416&t[0]&&(S=W(e[14]),_=U(_,t,z,0,e,S,E,i,G,be,null,ue)),32784&t[0]|2&t[1]&&(L=W(e[15]),j=U(j,t,N,0,e,L,O,p,G,ve,null,ae)),e[4]?A?A.p(ce(e),t):(A=me(ce(e)),A.c(),A.m(d,null)):A&&(A.d(1),A=null)},d(o){o&&(v(t),v(n),v(i),v(h),v(d)),M&&M.d(),e[46](null);for(let e=0;e<_.length;e+=1)_[e].d();for(let e=0;e<j.length;e+=1)j[e].d();A&&A.d(),$=!1,l(k)}}}function de(e){let t,o,s,r,l,n,i,c;return{c(){t=m("div"),o=m("p"),s=$("Error: "),r=$(e[12]),l=w(),n=m("button"),n.textContent="Retry",y(o,"class","svelte-16fhsb8"),y(n,"class","svelte-16fhsb8"),y(t,"class","error-screen svelte-16fhsb8")},m(a,u){b(a,t,u),f(t,o),f(o,s),f(o,r),f(t,l),f(t,n),i||(c=x(n,"click",e[29]),i=!0)},p(e,t){4096&t[0]&&k(r,e[12])},d(e){e&&v(t),i=!1,c()}}}function fe(e){let t;return{c(){t=m("div"),t.innerHTML='<div class="spinner svelte-16fhsb8"></div> <p class="svelte-16fhsb8">Loading configurator...</p>',y(t,"class","loading-screen svelte-16fhsb8")},m(e,o){b(e,t,o)},p:o,d(e){e&&v(t)}}}function pe(e){let t;return{c(){t=m("div"),t.innerHTML='<div class="spinner svelte-16fhsb8"></div>',y(t,"class","transition-loader svelte-16fhsb8")},m(e,o){b(e,t,o)},d(e){e&&v(t)}}}function be(e,t){let o,s,r,l,n,i,c,a;function u(){return t[47](t[111])}return{key:e,first:null,c(){o=m("button"),s=g("svg"),r=g("circle"),l=g("circle"),n=w(),y(r,"cx","20"),y(r,"cy","20"),y(r,"r","18"),y(r,"fill","currentColor"),y(r,"opacity","0.9"),y(l,"cx","20"),y(l,"cy","20"),y(l,"r","6"),y(l,"fill","white"),y(s,"width","100%"),y(s,"height","100%"),y(s,"viewBox","0 0 40 40"),y(s,"class","svelte-16fhsb8"),y(o,"class","hotspot svelte-16fhsb8"),_(o,"left",t[117]+"px"),_(o,"top",t[118]+"px"),y(o,"aria-label",i=t[111].title),C(o,"active",t[4]===t[111].layerName),this.first=o},m(e,t){b(e,o,t),f(o,s),f(s,r),f(s,l),f(o,n),c||(a=x(o,"click",u),c=!0)},p(e,s){t=e,16576&s[0]&&_(o,"left",t[117]+"px"),16576&s[0]&&_(o,"top",t[118]+"px"),16384&s[0]&&i!==(i=t[111].title)&&y(o,"aria-label",i),16400&s[0]&&C(o,"active",t[4]===t[111].layerName)},d(e){e&&v(o),c=!1,a()}}}function ve(e,t){let o,s,r,l,n,i=t[108].title+"";function c(){return t[48](t[108])}return{key:e,first:null,c(){o=m("button"),s=$(i),r=w(),y(o,"class","tab svelte-16fhsb8"),C(o,"active",t[4]===t[108].name),this.first=o},m(e,t){b(e,o,t),f(o,s),f(o,r),l||(n=x(o,"click",c),l=!0)},p(e,r){t=e,32768&r[0]&&i!==(i=t[108].title+"")&&k(s,i),32784&r[0]&&C(o,"active",t[4]===t[108].name)},d(e){e&&v(o),l=!1,n()}}}function me(e){let t,o=e[85]&&ge(e);return{c(){o&&o.c(),t=$("")},m(e,s){o&&o.m(e,s),b(e,t,s)},p(e,s){e[85]?o?o.p(e,s):(o=ge(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},d(e){e&&v(t),o&&o.d(e)}}}function ge(e){let t;function o(e,t){return e[87]&&e[85].products?xe:e[85].products?we:e[85].folder?$e:void 0}function s(e,t){return t===xe?function(e){var t,o;const s=e.slice(),r=s[85].products.find(function(...t){return e[49](s[86],...t)});s[88]=r;const l=null==(o=null==(t=s[88])?void 0:t.materials)?void 0:o.find(function(...t){return e[50](s[86],...t)});return s[89]=l,s}(e):t===we?function(e){const t=e.slice(),o="materials"===t[85].group;return t[101]=o,t}(e):e}let r=o(e),l=r&&r(s(e,r));return{c(){t=m("div"),l&&l.c(),y(t,"class","carousel-wrapper svelte-16fhsb8")},m(e,o){b(e,t,o),l&&l.m(t,null)},p(e,n){r===(r=o(e))&&l?l.p(s(e,r),n):(l&&l.d(1),l=r&&r(s(e,r)),l&&(l.c(),l.m(t,null)))},d(e){e&&v(t),l&&l.d()}}}function $e(e){let t,o,s,r,n,i,c,a,u=[],h=new ee,d=W(Array(e[85].variations||12));const p=e=>e[97];for(let l=0;l<d.length;l+=1){let t=oe(e,d,l),o=p(t);h.set(o,u[l]=ye(o,t))}return{c(){t=m("div"),o=m("button"),o.textContent="‹",s=w(),r=m("div");for(let e=0;e<u.length;e+=1)u[e].c();n=w(),i=m("button"),i.textContent="›",y(o,"class","carousel-nav carousel-nav-left svelte-16fhsb8"),y(o,"aria-label","Scroll left"),y(r,"class","carousel-items svelte-16fhsb8"),y(i,"class","carousel-nav carousel-nav-right svelte-16fhsb8"),y(i,"aria-label","Scroll right"),y(t,"class","carousel-container svelte-16fhsb8")},m(l,h){b(l,t,h),f(t,o),f(t,s),f(t,r);for(let e=0;e<u.length;e+=1)u[e]&&u[e].m(r,null);e[70](r),f(t,n),f(t,i),c||(a=[x(o,"click",e[68]),x(r,"scroll",e[71]),x(i,"click",e[72])],c=!0)},p(e,t){134218832&t[0]|4&t[1]&&(d=W(Array(e[85].variations||12)),u=U(u,t,p,0,e,d,h,r,G,ye,null,oe))},d(o){o&&v(t);for(let e=0;e<u.length;e+=1)u[e].d();e[70](null),c=!1,l(a)}}}function we(e){let t,o,s,r,l,n,i,c=[],a=new ee,u=e[85].colors&&e[85].colors.length>0&&ke(e),h=e[9]&&je(e),d=W(e[85].products);const p=e=>e[90].id;for(let f=0;f<d.length;f+=1){let t=se(e,d,f),o=p(t);a.set(o,c[f]=Oe(o,t))}let g=e[9]&&Me(e);return{c(){u&&u.c(),t=w(),o=m("div"),h&&h.c(),s=w(),r=m("div");for(let e=0;e<c.length;e+=1)c[e].c();l=w(),g&&g.c(),y(r,"class","carousel-items svelte-16fhsb8"),y(o,"class","carousel-container svelte-16fhsb8")},m(a,d){u&&u.m(a,d),b(a,t,d),b(a,o,d),h&&h.m(o,null),f(o,s),f(o,r);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(r,null);e[66](r),f(o,l),g&&g.m(o,null),n||(i=x(r,"scroll",e[38]),n=!0)},p(e,l){e[85].colors&&e[85].colors.length>0?u?u.p(e,l):(u=ke(e),u.c(),u.m(t.parentNode,t)):u&&(u.d(1),u=null),e[9]?h?h.p(e,l):(h=je(e),h.c(),h.m(o,s)):h&&(h.d(1),h=null),134218864&l[0]|8&l[1]&&(d=W(e[85].products),c=U(c,l,p,0,e,d,a,r,G,Oe,null,se)),e[9]?g?g.p(e,l):(g=Me(e),g.c(),g.m(o,null)):g&&(g.d(1),g=null)},d(s){s&&(v(t),v(o)),u&&u.d(s),h&&h.d();for(let e=0;e<c.length;e+=1)c[e].d();e[66](null),g&&g.d(),n=!1,i()}}}function xe(e){let t,o,s,r,l,n,i,c,a=[],u=new ee,h=e[88]&&e[88].materials&&e[88].materials.length>1&&Se(e),d=e[89]&&e[89].colors&&e[89].colors.length>0&&Le(e),p=e[9]&&Ve(e),g=W(e[85].products);const $=e=>e[90].id;for(let f=0;f<g.length;f+=1){let t=le(e,g,f),o=$(t);u.set(o,a[f]=Be(o,t))}let k=e[9]&&Pe(e);return{c(){h&&h.c(),t=w(),d&&d.c(),o=w(),s=m("div"),p&&p.c(),r=w(),l=m("div");for(let e=0;e<a.length;e+=1)a[e].c();n=w(),k&&k.c(),y(l,"class","carousel-items svelte-16fhsb8"),y(s,"class","carousel-container svelte-16fhsb8")},m(u,v){h&&h.m(u,v),b(u,t,v),d&&d.m(u,v),b(u,o,v),b(u,s,v),p&&p.m(s,null),f(s,r),f(s,l);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(l,null);e[58](l),f(s,n),k&&k.m(s,null),i||(c=x(l,"scroll",e[38]),i=!0)},p(e,n){e[88]&&e[88].materials&&e[88].materials.length>1?h?h.p(e,n):(h=Se(e),h.c(),h.m(t.parentNode,t)):h&&(h.d(1),h=null),e[89]&&e[89].colors&&e[89].colors.length>0?d?d.p(e,n):(d=Le(e),d.c(),d.m(o.parentNode,o)):d&&(d.d(1),d=null),e[9]?p?p.p(e,n):(p=Ve(e),p.c(),p.m(s,r)):p&&(p.d(1),p=null),134218832&n[0]|8&n[1]&&(g=W(e[85].products),a=U(a,n,$,0,e,g,u,l,G,Be,null,le)),e[9]?k?k.p(e,n):(k=Pe(e),k.c(),k.m(s,null)):k&&(k.d(1),k=null)},d(r){r&&(v(t),v(o),v(s)),h&&h.d(r),d&&d.d(r),p&&p.d();for(let e=0;e<a.length;e+=1)a[e].d();e[58](null),k&&k.d(),i=!1,c()}}}function ye(e,t){let o,s,r,l,n,i,c,u;function h(){return t[69](t[106])}return{key:e,first:null,c(){var e;o=m("button"),s=m("div"),r=m("img"),i=w(),a(r.src,l=t[27](`${t[85].folder}/${t[106]}.webp`))||y(r,"src",l),y(r,"alt",n="Variation "+t[106]),y(r,"loading","lazy"),y(r,"class","svelte-16fhsb8"),y(s,"class","item-preview svelte-16fhsb8"),y(o,"class","carousel-item svelte-16fhsb8"),C(o,"selected",(null==(e=t[86])?void 0:e.selected)===t[106]),this.first=o},m(e,t){b(e,o,t),f(o,s),f(s,r),f(o,i),c||(u=x(o,"click",h),c=!0)},p(e,s){var i;t=e,80&s[0]&&!a(r.src,l=t[27](`${t[85].folder}/${t[106]}.webp`))&&y(r,"src",l),80&s[0]&&n!==(n="Variation "+t[106])&&y(r,"alt",n),1104&s[0]&&C(o,"selected",(null==(i=t[86])?void 0:i.selected)===t[106])},d(e){e&&v(o),c=!1,u()}}}function ke(e){let t,o,s,r,l,n,i,c,a=[],u=new ee,h=e[101],d=e[8]&&_e(e),p=W(e[85].colors);const g=e=>e[97];for(let f=0;f<p.length;f+=1){let t=re(e,p,f),o=g(t);u.set(o,a[f]=Ce(o,t))}const $=()=>e[62](l,h),k=()=>e[62](null,h);let _=e[8]&&Ee(e);return{c(){t=m("div"),o=m("div"),s=m("div"),d&&d.c(),r=w(),l=m("div");for(let e=0;e<a.length;e+=1)a[e].c();n=w(),_&&_.c(),y(l,"class","color-carousel-items svelte-16fhsb8"),y(s,"class","color-carousel-container svelte-16fhsb8"),y(o,"class","color-group"),y(t,"class","color-selector-section svelte-16fhsb8")},m(u,h){b(u,t,h),f(t,o),f(o,s),d&&d.m(s,null),f(s,r),f(s,l);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(l,null);$(),f(s,n),_&&_.m(s,null),i||(c=x(l,"scroll",e[38]),i=!0)},p(t,o){(e=t)[8]?d?d.p(e,o):(d=_e(e),d.c(),d.m(s,r)):d&&(d.d(1),d=null),1136&o[0]|16&o[1]&&(p=W(e[85].colors),a=U(a,o,g,0,e,p,u,l,G,Ce,null,re)),h!==e[101]&&(k(),h=e[101],$()),e[8]?_?_.p(e,o):(_=Ee(e),_.c(),_.m(s,null)):_&&(_.d(1),_=null)},d(e){e&&v(t),d&&d.d();for(let t=0;t<a.length;t+=1)a[t].d();k(),_&&_.d(),i=!1,c()}}}function _e(e){let t,s,r;return{c(){t=m("button"),t.textContent="‹",y(t,"class","carousel-nav carousel-nav-left svelte-16fhsb8"),y(t,"aria-label","Scroll left")},m(o,l){b(o,t,l),s||(r=x(t,"click",e[60]),s=!0)},p:o,d(e){e&&v(t),s=!1,r()}}}function Ce(e,t){let o,s,r,l,n,i,c,a,u=t[94].name+"";function h(){return t[61](t[101],t[95])}return{key:e,first:null,c(){o=m("button"),s=m("div"),r=w(),l=m("span"),n=$(u),i=w(),y(s,"class","option-color svelte-16fhsb8"),_(s,"background-color",t[94].hex),y(l,"class","svelte-16fhsb8"),y(o,"class","color-option svelte-16fhsb8"),C(o,"selected",t[86].selectedVariation===t[95]),this.first=o},m(e,t){b(e,o,t),f(o,s),f(o,r),f(o,l),f(l,n),f(o,i),c||(a=x(o,"click",h),c=!0)},p(e,r){t=e,80&r[0]&&_(s,"background-color",t[94].hex),80&r[0]&&u!==(u=t[94].name+"")&&k(n,u),1104&r[0]&&C(o,"selected",t[86].selectedVariation===t[95])},d(e){e&&v(o),c=!1,a()}}}function Ee(e){let t,s,r;return{c(){t=m("button"),t.textContent="›",y(t,"class","carousel-nav carousel-nav-right svelte-16fhsb8"),y(t,"aria-label","Scroll right")},m(o,l){b(o,t,l),s||(r=x(t,"click",e[63]),s=!0)},p:o,d(e){e&&v(t),s=!1,r()}}}function je(e){let t,s,r;return{c(){t=m("button"),t.textContent="‹",y(t,"class","carousel-nav carousel-nav-left svelte-16fhsb8"),y(t,"aria-label","Scroll left")},m(o,l){b(o,t,l),s||(r=x(t,"click",e[64]),s=!0)},p:o,d(e){e&&v(t),s=!1,r()}}}function Oe(e,t){let o,s,r,l,n,i,c,u,h,d,p,g=t[90].title+"";function _(){return t[65](t[101],t[90])}return{key:e,first:null,c(){var e;o=m("button"),s=m("div"),r=m("img"),i=w(),c=m("span"),u=$(g),h=w(),a(r.src,l=t[27](`${t[90].source}/poster.webp`))||y(r,"src",l),y(r,"alt",n=t[90].title),y(r,"loading","lazy"),y(r,"class","svelte-16fhsb8"),y(s,"class","item-preview svelte-16fhsb8"),y(c,"class","svelte-16fhsb8"),y(o,"class","carousel-item svelte-16fhsb8"),C(o,"selected",(null==(e=t[86])?void 0:e.product)===t[90].id),this.first=o},m(e,t){b(e,o,t),f(o,s),f(s,r),f(o,i),f(o,c),f(c,u),f(o,h),d||(p=x(o,"click",_),d=!0)},p(e,s){var i;t=e,80&s[0]&&!a(r.src,l=t[27](`${t[90].source}/poster.webp`))&&y(r,"src",l),80&s[0]&&n!==(n=t[90].title)&&y(r,"alt",n),80&s[0]&&g!==(g=t[90].title+"")&&k(u,g),1104&s[0]&&C(o,"selected",(null==(i=t[86])?void 0:i.product)===t[90].id)},d(e){e&&v(o),d=!1,p()}}}function Me(e){let t,s,r;return{c(){t=m("button"),t.textContent="›",y(t,"class","carousel-nav carousel-nav-right svelte-16fhsb8"),y(t,"aria-label","Scroll right")},m(o,l){b(o,t,l),s||(r=x(t,"click",e[67]),s=!0)},p:o,d(e){e&&v(t),s=!1,r()}}}function Se(e){let t,o=W(e[88].materials),s=[];for(let r=0;r<o.length;r+=1)s[r]=ze(ie(e,o,r));return{c(){t=m("div");for(let e=0;e<s.length;e+=1)s[e].c();y(t,"class","material-type-selector svelte-16fhsb8")},m(e,o){b(e,t,o);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(t,null)},p(e,r){if(1104&r[0]|1&r[1]){let l;for(o=W(e[88].materials),l=0;l<o.length;l+=1){const n=ie(e,o,l);s[l]?s[l].p(n,r):(s[l]=ze(n),s[l].c(),s[l].m(t,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=o.length}},d(e){e&&v(t),function(e,t){for(let o=0;o<e.length;o+=1)e[o]&&e[o].d(t)}(s,e)}}}function ze(e){let t,o,s,r,l,n=e[98].title+"";function i(){return e[51](e[98])}return{c(){var r;t=m("button"),o=$(n),s=w(),y(t,"class","material-type-button svelte-16fhsb8"),C(t,"active",(null==(r=e[86])?void 0:r.material)===e[98].id)},m(e,n){b(e,t,n),f(t,o),f(t,s),r||(l=x(t,"click",i),r=!0)},p(s,r){var l;e=s,1104&r[0]&&n!==(n=e[98].title+"")&&k(o,n),1104&r[0]&&C(t,"active",(null==(l=e[86])?void 0:l.material)===e[98].id)},d(e){e&&v(t),r=!1,l()}}}function Le(e){let t,o,s,r,l,n,i,c,a=[],u=new ee,h=e[8]&&Ne(e),d=W(e[89].colors);const p=e=>e[97];for(let f=0;f<d.length;f+=1){let t=ne(e,d,f),o=p(t);u.set(o,a[f]=Ae(o,t))}let g=e[8]&&Te(e);return{c(){t=m("div"),o=m("div"),s=m("div"),h&&h.c(),r=w(),l=m("div");for(let e=0;e<a.length;e+=1)a[e].c();n=w(),g&&g.c(),y(l,"class","color-carousel-items svelte-16fhsb8"),y(s,"class","color-carousel-container svelte-16fhsb8"),y(o,"class","color-group"),y(t,"class","color-selector-section svelte-16fhsb8")},m(u,d){b(u,t,d),f(t,o),f(o,s),h&&h.m(s,null),f(s,r),f(s,l);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(l,null);e[54](l),f(s,n),g&&g.m(s,null),i||(c=x(l,"scroll",e[38]),i=!0)},p(e,t){e[8]?h?h.p(e,t):(h=Ne(e),h.c(),h.m(s,r)):h&&(h.d(1),h=null),1104&t[0]|16&t[1]&&(d=W(e[89].colors),a=U(a,t,p,0,e,d,u,l,G,Ae,null,ne)),e[8]?g?g.p(e,t):(g=Te(e),g.c(),g.m(s,null)):g&&(g.d(1),g=null)},d(o){o&&v(t),h&&h.d();for(let e=0;e<a.length;e+=1)a[e].d();e[54](null),g&&g.d(),i=!1,c()}}}function Ne(e){let t,s,r;return{c(){t=m("button"),t.textContent="‹",y(t,"class","carousel-nav carousel-nav-left svelte-16fhsb8"),y(t,"aria-label","Scroll left")},m(o,l){b(o,t,l),s||(r=x(t,"click",e[52]),s=!0)},p:o,d(e){e&&v(t),s=!1,r()}}}function Ae(e,t){let o,s,r,l,n,i,c,a,u=t[94].name+"";function h(){return t[53](t[95])}return{key:e,first:null,c(){o=m("button"),s=m("div"),r=w(),l=m("span"),n=$(u),i=w(),y(s,"class","option-color svelte-16fhsb8"),_(s,"background-color",t[94].hex),y(l,"class","svelte-16fhsb8"),y(o,"class","color-option svelte-16fhsb8"),C(o,"selected",t[86].selectedVariation===t[95]),this.first=o},m(e,t){b(e,o,t),f(o,s),f(o,r),f(o,l),f(l,n),f(o,i),c||(a=x(o,"click",h),c=!0)},p(e,r){t=e,1104&r[0]&&_(s,"background-color",t[94].hex),1104&r[0]&&u!==(u=t[94].name+"")&&k(n,u),1104&r[0]&&C(o,"selected",t[86].selectedVariation===t[95])},d(e){e&&v(o),c=!1,a()}}}function Te(e){let t,s,r;return{c(){t=m("button"),t.textContent="›",y(t,"class","carousel-nav carousel-nav-right svelte-16fhsb8"),y(t,"aria-label","Scroll right")},m(o,l){b(o,t,l),s||(r=x(t,"click",e[55]),s=!0)},p:o,d(e){e&&v(t),s=!1,r()}}}function Ve(e){let t,s,r;return{c(){t=m("button"),t.textContent="‹",y(t,"class","carousel-nav carousel-nav-left svelte-16fhsb8"),y(t,"aria-label","Scroll left")},m(o,l){b(o,t,l),s||(r=x(t,"click",e[56]),s=!0)},p:o,d(e){e&&v(t),s=!1,r()}}}function Be(e,t){let o,s,r,l,n,i,c,u,h,d,p,g=t[90].title+"";function _(){return t[57](t[90])}return{key:e,first:null,c(){var e,d;o=m("button"),s=m("div"),r=m("img"),i=w(),c=m("span"),u=$(g),h=w(),a(r.src,l=t[27](`${(null==(e=t[91])?void 0:e.source)||"placeholder"}/poster.webp`))||y(r,"src",l),y(r,"alt",n=t[90].title),y(r,"loading","lazy"),y(r,"class","svelte-16fhsb8"),y(s,"class","item-preview svelte-16fhsb8"),y(c,"class","svelte-16fhsb8"),y(o,"class","carousel-item svelte-16fhsb8"),C(o,"selected",(null==(d=t[86])?void 0:d.product)===t[90].id),this.first=o},m(e,t){b(e,o,t),f(o,s),f(s,r),f(o,i),f(o,c),f(c,u),f(o,h),d||(p=x(o,"click",_),d=!0)},p(e,s){var i,c;t=e,80&s[0]&&!a(r.src,l=t[27](`${(null==(i=t[91])?void 0:i.source)||"placeholder"}/poster.webp`))&&y(r,"src",l),80&s[0]&&n!==(n=t[90].title)&&y(r,"alt",n),80&s[0]&&g!==(g=t[90].title+"")&&k(u,g),1104&s[0]&&C(o,"selected",(null==(c=t[86])?void 0:c.product)===t[90].id)},d(e){e&&v(o),d=!1,p()}}}function Pe(e){let t,s,r;return{c(){t=m("button"),t.textContent="›",y(t,"class","carousel-nav carousel-nav-right svelte-16fhsb8"),y(t,"aria-label","Scroll right")},m(o,l){b(o,t,l),s||(r=x(t,"click",e[59]),s=!0)},p:o,d(e){e&&v(t),s=!1,r()}}}function Ie(e){let t;function s(e,t){return e[11]?fe:e[12]?de:e[6]?he:void 0}function r(e,t){return t===he?function(e){var t,o;const s=e.slice(),r=(null==(t=s[6].imageSize)?void 0:t.width)||1920;s[83]=r;const l=(null==(o=s[6].imageSize)?void 0:o.height)||1080;return s[84]=l,s}(e):e}let l=s(e),n=l&&l(r(e,l));return{c(){t=m("div"),n&&n.c(),y(t,"class","showroom-configurator svelte-16fhsb8"),_(t,"--theme-color",e[0]),_(t,"--theme-color-dark",e[28](e[0],-20)),_(t,"--theme-color-light",e[28](e[0],20))},m(e,o){b(e,t,o),n&&n.m(t,null)},p(e,o){l===(l=s(e))&&n?n.p(r(e,l),o):(n&&n.d(1),n=l&&l(r(e,l)),n&&(n.c(),n.m(t,null))),1&o[0]&&_(t,"--theme-color",e[0]),1&o[0]&&_(t,"--theme-color-dark",e[28](e[0],-20)),1&o[0]&&_(t,"--theme-color-light",e[28](e[0],20))},i:o,o:o,d(e){e&&v(t),n&&n.d()}}}function Re(e,t,o){let s,r,l,n,i,c,a,u,d,f,p,{config:b=""}=t,{assets:v=""}=t,{themecolor:m="#AB92C8"}=t,{logo:g=""}=t,{showlogo:$="true"}=t,{showpoweredby:w="true"}=t;const x=X(null);h(e,x,e=>o(6,l=e));const y=X([]);h(e,y,e=>o(10,n=e));const k=X(null);h(e,k,e=>o(4,s=e));const _=X(null);h(e,_,e=>o(5,r=e));const C=X(!0);h(e,C,e=>o(11,a=e));const E=X(null);h(e,E,e=>o(12,u=e));const j=X(new Map);h(e,j,e=>o(76,c=e));const M=X(!1);h(e,M,e=>o(75,i=e));const z=X(!1);h(e,z,e=>o(13,d=e));let L,N={},A={};const T=Z([x,y],([e,t])=>{if(!e)return[];const o={},s=[];Object.entries(e.layers||{}).forEach(([e,t])=>{t.hotspot&&t.hotspot.visible&&("materials"===t.group?(o[t.group]||(o[t.group]={id:t.group,title:"Material",position:t.hotspot.position,layers:[]}),o[t.group].layers.push({name:e,title:t.title||e,layer:t})):s.push({...t.hotspot,layerName:e,layerTitle:t.title||e,isGroup:!1}))});const r=Object.values(o).map(e=>({id:e.id,title:e.title,position:e.position,layerName:e.id,layerTitle:e.title,isGroup:!0,groupLayers:e.layers}));return[...s,...r]});h(e,T,e=>o(14,f=e));const V=Z([x],([e])=>{if(!e)return[];const t={},o=[];Object.entries(e.layers||{}).forEach(([e,s])=>{void 0!==s.order&&("materials"===s.group?t[s.group]||(t[s.group]={name:s.group,title:"Material",order:s.order,isGroup:!0}):"product-layer"===s.group?o.push({name:e,title:s.title||e,order:s.order,isGroup:!1,isProductLayer:!0}):o.push({name:e,title:s.title||e,order:s.order,isGroup:!1}))});return[...o,...Object.values(t)].sort((e,t)=>e.order-t.order)});h(e,V,e=>o(15,p=e));const B=e=>{if(!e)return"";if(e.startsWith("http"))return e;return`${v.endsWith("/")?v:`${v}/`}${e.startsWith("/")?e.slice(1):e}`},P=e=>c.has(e)?Promise.resolve(c.get(e)):new Promise((t,o)=>{const s=new Image;s.onload=()=>{j.update(t=>(t.set(e,s),t)),t(s)},s.onerror=o,s.src=e}),I=async()=>{try{C.set(!0),E.set(null);const e=(b.startsWith("http"),b),t=await fetch(e);if(!t.ok)throw new Error(`Failed to load config: ${t.statusText}`);const o=await t.json();if(o.mockup){const e={};Array.isArray(o.mockup.layers)&&o.mockup.layers.forEach(t=>{e[t.name]=t}),o.layers=e,o.background=o.mockup.image,o.load=o.mockup.load}x.set(o);const s={};Object.entries(o.layers||{}).forEach(([e,t])=>{var r,l,n,i,c;if(t.folder)s[e]={selected:1};else if("product-layer"===t.group){const c=(null==(r=o.load)?void 0:r.split(":"))||[],a=c[0]||(null==(l=t.products[0])?void 0:l.id),u=c[1]||(null==(i=null==(n=t.products[0])?void 0:n.materials[0])?void 0:i.id);s[e]={product:a,material:u,selectedVariation:"color-1"},A[e]=u}else if(t.products){const r=o.load||(null==(c=t.products[0])?void 0:c.id);s[e]={product:r,selectedVariation:"color-1"}}}),y.set(s);const r=Object.entries(o.layers||{}).find(([e,t])=>"materials"===t.group||"product-layer"===t.group);r&&_.set(r[0]),o.background&&await P(B(o.background)),await R(!0),C.set(!1)}catch(e){E.set(e.message),C.set(!1)}},R=async(e=!1)=>{var t,s;if(L&&l&&!i){e||z.set(!0),M.set(!0);try{const e=L.getContext("2d"),i=(null==(t=l.imageSize)?void 0:t.width)||1920,c=(null==(s=l.imageSize)?void 0:s.height)||1080;if(o(1,L.width=i,L),o(1,L.height=c,L),e.clearRect(0,0,i,c),l.background){const t=B(l.background),o=await P(t);e.globalCompositeOperation="source-over",e.drawImage(o,0,0,i,c)}const a=Object.entries(l.layers||{}).map(([e,t])=>({...t,name:e})).filter(e=>!1!==e.visible&&("materials"!==e.group||!!r&&e.name===r)).sort((e,t)=>e.order-t.order);for(const t of a)await H(e,t,i,c);if("true"===$&&g)try{const t=await P(g),o=.15*i,s=.08*c,r=t.width/t.height;let l=o,n=l/r;n>s&&(n=s,l=n*r);const a=i-l-.02*i,u=.02*c;e.globalCompositeOperation="source-over",e.drawImage(t,a,u,l,n)}catch(n){}if("true"===w)try{const t=await P(B("powered-by.png")),o=.12*i,s=.06*c,r=t.width/t.height;let l=o,n=l/r;n>s&&(n=s,l=n*r);const a=.02*i,u=c-n-.02*c;e.globalCompositeOperation="source-over",e.drawImage(t,a,u,l,n)}catch(n){}}catch(n){}finally{M.set(!1),e||setTimeout(()=>z.set(!1),100)}}},H=async(e,t,o,s)=>{var r;const l=n[t.name];if(l)if(e.globalCompositeOperation="source-over",t.folder){const r=l.selected||1,n=B(`${t.folder}/shadow.webp`),c=B(`${t.folder}/${r}.webp`);try{const[t,r]=await Promise.all([P(n),P(c)]);e.globalCompositeOperation="multiply",e.drawImage(t,0,0,o,s),e.globalCompositeOperation="lighten",e.drawImage(r,0,0,o,s)}catch(i){}}else if("product-layer"===t.group&&t.products&&l.product&&l.material){const n=t.products.find(e=>e.id===l.product);if(!n)return;const c=null==(r=n.materials)?void 0:r.find(e=>e.id===l.material);if(!c)return;const a=l.selectedVariation||"color-1",u=B(`${c.source}/variations/shadow.webp`),h=B(`${c.source}/variations/${a}.webp`);try{const[t,r]=await Promise.all([P(u),P(h)]);e.globalCompositeOperation="multiply",e.drawImage(t,0,0,o,s),e.globalCompositeOperation="lighten",e.drawImage(r,0,0,o,s)}catch(i){}}else if(t.products&&l.product){const r=t.products.find(e=>e.id===l.product);if(!r)return;const n=l.selectedVariation||"color-1",c=B(`${r.source}/variations/shadow.webp`),a=B(`${r.source}/variations/${n}.webp`);try{const[t,r]=await Promise.all([P(c),P(a)]);e.globalCompositeOperation="multiply",e.drawImage(t,0,0,o,s),e.globalCompositeOperation="lighten",e.drawImage(r,0,0,o,s)}catch(i){}}},W=e=>{e.isGroup?k.update(t=>t===e.layerName?(_.set(null),null):(_.set(e.groupLayers[0].name),e.layerName)):k.update(t=>t===e.layerName?null:e.layerName)},G=async(e,t)=>{A[e]=t,y.update(o=>{if(!o[e])return o;const s=N[e]||"color-1";return{...o,[e]:{...o[e],material:t,selectedVariation:s}}}),await R()},U=e=>{e.isGroup?k.update(t=>t===e.name?(_.set(null),null):(_.set("leather"),e.name)):k.update(t=>t===e.name?null:e.name)},Y=async(e,t)=>{var o;(null==(o=n[e])?void 0:o.selected)!==t&&(y.update(o=>({...o,[e]:{...o[e],selected:t}})),await R())},D=async(e,t)=>{var o,s,r,i,c,a;if((null==(o=n[e])?void 0:o.product)===t)return;const u=l.layers[e],h=null==(s=null==u?void 0:u.products)?void 0:s.find(e=>e.id===t),d=A[e]||(null==(r=n[e])?void 0:r.material);let f=null==(c=null==(i=null==h?void 0:h.materials)?void 0:i[0])?void 0:c.id;d&&(null==(a=null==h?void 0:h.materials)?void 0:a.find(e=>e.id===d))&&(f=d);const p=N[e]||"color-1";y.update(o=>{var s;return{...o,[e]:{product:t,material:f||(null==(s=o[e])?void 0:s.material),selectedVariation:p}}}),await R()},F=async(e,t)=>{var o;(null==(o=n[e])?void 0:o.selectedVariation)!==t&&(N[e]=t,y.update(o=>({...o,[e]:{...o[e],selectedVariation:t}})),await R())};let J={width:0,height:0,left:0,top:0};const q=()=>{if(L){const e=L.getBoundingClientRect(),t=L.parentElement.getBoundingClientRect();o(7,J={width:e.width,height:e.height,left:e.left-t.left,top:e.top-t.top})}};let K={},Q={},ee=!1,te=!1;const oe=e=>{const t=K[s];if(!t)return;const o=.8*t.clientWidth;t.scrollBy({left:"left"===e?-o:o,behavior:"smooth"})},se=e=>{const t=Q[r||s];if(!t)return;const o=.8*t.clientWidth;t.scrollBy({left:"left"===e?-o:o,behavior:"smooth"})},re=e=>!!e&&e.scrollWidth>e.clientWidth,le=()=>{o(8,ee=re(Q[r||s])),o(9,te=re(K[s]))};var ne;ne=()=>(I(),window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)),O().$$.on_mount.push(ne),function(e){O().$$.after_update.push(e)}(()=>{le(),q()});return e.$$set=e=>{"config"in e&&o(41,b=e.config),"assets"in e&&o(42,v=e.assets),"themecolor"in e&&o(0,m=e.themecolor),"logo"in e&&o(43,g=e.logo),"showlogo"in e&&o(44,$=e.showlogo),"showpoweredby"in e&&o(45,w=e.showpoweredby)},e.$$.update=()=>{66&e.$$.dirty[0]&&L&&l&&R().then(()=>{setTimeout(q,50)}),60&e.$$.dirty[0]&&(s||r||Q||K[s])&&setTimeout(le,100)},[m,L,K,Q,s,r,l,J,ee,te,n,a,u,d,f,p,x,y,k,_,C,E,j,M,z,T,V,B,(e,t)=>{const o=parseInt(e.replace("#",""),16),s=Math.round(2.55*t),r=(o>>16)+s,l=(o>>8&255)+s,n=(255&o)+s;return"#"+(16777216+65536*(r<255?r<1?0:r:255)+256*(l<255?l<1?0:l:255)+(n<255?n<1?0:n:255)).toString(16).slice(1)},I,W,G,U,Y,D,F,oe,se,le,()=>{L&&L.toBlob(e=>{const t=URL.createObjectURL(e),o=document.createElement("a");o.href=t,o.download="mockup.jpg",o.click(),URL.revokeObjectURL(t)},"image/jpeg",.95)},()=>{if(!L)return;const e=L.toDataURL("image/jpeg",.95),t=document.createElement("div");t.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      height: 100vh;\n      background: rgba(0, 0, 0, 0.95);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 10000;\n      cursor: zoom-out;\n    ";const o=document.createElement("img");o.src=e,o.style.cssText="\n      max-width: 95%;\n      max-height: 95%;\n      object-fit: contain;\n    ",t.appendChild(o),t.addEventListener("click",()=>{document.body.removeChild(t)}),document.body.appendChild(t)},b,v,g,$,w,function(e){S[e?"unshift":"push"](()=>{L=e,o(1,L)})},e=>W(e),e=>U(e),(e,t)=>t.id===(null==e?void 0:e.product),(e,t)=>t.id===(null==e?void 0:e.material),e=>G(s,e.id),()=>se("left"),e=>F(s,e),function(e){S[e?"unshift":"push"](()=>{Q[s]=e,o(3,Q)})},()=>se("right"),()=>oe("left"),e=>D(s,e.id),function(e){S[e?"unshift":"push"](()=>{K[s]=e,o(2,K)})},()=>oe("right"),()=>se("left"),(e,t)=>F(e?r:s,t),function(e,t){S[e?"unshift":"push"](()=>{Q[t?r:s]=e,o(3,Q)})},()=>se("right"),()=>oe("left"),(e,t)=>D(e?r:s,t.id),function(e){S[e?"unshift":"push"](()=>{K[s]=e,o(2,K)})},()=>oe("right"),()=>oe("left"),e=>Y(s,e),function(e){S[e?"unshift":"push"](()=>{K[s]=e,o(2,K)})},e=>{o(2,K)},()=>oe("right")]}class He extends K{constructor(e){super(),F(this,e,Re,Ie,i,{config:41,assets:42,themecolor:0,logo:43,showlogo:44,showpoweredby:45},te,[-1,-1,-1,-1])}get config(){return this.$$.ctx[41]}set config(e){this.$$set({config:e}),P()}get assets(){return this.$$.ctx[42]}set assets(e){this.$$set({assets:e}),P()}get themecolor(){return this.$$.ctx[0]}set themecolor(e){this.$$set({themecolor:e}),P()}get logo(){return this.$$.ctx[43]}set logo(e){this.$$set({logo:e}),P()}get showlogo(){return this.$$.ctx[44]}set showlogo(e){this.$$set({showlogo:e}),P()}get showpoweredby(){return this.$$.ctx[45]}set showpoweredby(e){this.$$set({showpoweredby:e}),P()}}return customElements.define("showroom-configurator",function(e,t,o,s,r){let l=class extends J{constructor(){super(e,o,r),this.$$p_d=t}static get observedAttributes(){return Object.keys(t).map(e=>(t[e].attribute||e).toLowerCase())}};return Object.keys(t).forEach(e=>{Object.defineProperty(l.prototype,e,{get(){return this.$$c&&e in this.$$c?this.$$c[e]:this.$$d[e]},set(o){var s;o=q(e,o,t),this.$$d[e]=o,null==(s=this.$$c)||s.$set({[e]:o})}})}),s.forEach(e=>{Object.defineProperty(l.prototype,e,{get(){var t;return null==(t=this.$$c)?void 0:t[e]}})}),e.element=l,l}(He,{config:{},assets:{},themecolor:{},logo:{},showlogo:{},showpoweredby:{}},[],[],!0)),He});
